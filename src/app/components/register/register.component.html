<div class="form">
    <h1>Register Form</h1>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" #localForm="ngForm">
        <div>
            <mat-form-field>
                <mat-label>Username: </mat-label>
                <input matInput class="text-field" type="text" formControlName="username"
                    [ngClass]="{error: !registerForm.get('username').valid}">
            </mat-form-field>
        </div>
        <div>
            <small *ngIf="registerForm.get('username').errors?.['required']">
                Please fill out this field
            </small>

            <small *ngIf="registerForm.get('username').errors?.['minlength']">
                Username must be at least 5 characters long
            </small>
        </div>

        <div>
            <mat-form-field>
                <mat-label>Email: </mat-label>
                <input matInput class="text-field" type="text" formControlName="email"
                    [ngClass]="{error: !registerForm.get('email').valid}">
            </mat-form-field>
        </div>
        <div>
            <small *ngIf="registerForm.get('email').errors?.['required']">
                Please fill out this field
            </small>

            <small *ngIf="registerForm.get('email').errors?.['email']">
                Enter a valid email
            </small>
        </div>
        <div>
            <mat-form-field>
                <mat-label>Password: </mat-label>
                <input matInput class="text-field" type="password" formControlName="password"
                    [ngClass]="{error: !registerForm.get('password').valid}">

            </mat-form-field>
        </div>
        <div>
            <small *ngIf="registerForm.get('password').errors?.['required']">
                Please fill out this field
            </small>

            <small *ngIf="registerForm.get('password').errors?.['minlength']">
                Password must be at least 6 characters long
            </small>
        </div>
        <mat-label>Starting level: </mat-label>
        <div>
            <mat-radio-group formControlName="rating" aria-label="Select an option">
                <mat-radio-button value="400">Novice</mat-radio-button>
                <mat-radio-button value="800">Beginner</mat-radio-button>
                <mat-radio-button value="1200">Intermediate</mat-radio-button>
            </mat-radio-group>
        </div>
        <small *ngIf="registerForm.get('rating').errors?.['required']">
            Please choose your level
        </small>
        <div>
            <button type="submit" mat-button value="Submit" id="btn">Register</button>
            <h1 *ngIf="registerInProgress">registering ...</h1>
        </div>

        <div class="invalid-input" *ngIf="errorMessage">
            {{errorMessage}}
        </div>
    </form>
</div>